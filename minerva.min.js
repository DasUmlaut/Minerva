var Minerva={};Minerva.blendmodes={},Minerva.mixmodes={},Minerva.convert={},Minerva.util={},Minerva.settings={lumaR:.3,lumaG:.59,lumaB:.11},Minerva.util.getAverageTotal=function(r){if(r instanceof Minerva.image){var n=0,e=0,t=0;for(i=0;i<r.width*r.height;i++){var a=r.getColorAt(i);n+=a.r,e+=a.g,t+=a.b}return{r:n/(r.width*r.height),g:e/(r.width*r.height),b:t/(r.width*r.height)}}},Minerva.util.getAverageVisible=function(r){if(r instanceof Minerva.image){var n=0,e=0,t=0,a=0;for(i=0;i<r.width*r.height;i++){var v=r.getColorAt(i),o=r.getAlphaAt(i);n+=v.r*o,e+=v.g*o,t+=v.b*o,a+=o.a}return{r:n/(r.width*r.height)/a,g:e/(r.width*r.height)/a,b:t/(r.width*r.height)/a}}},Minerva.channel=function(){var r=[];this.add=function(n){r.push(n)},this.set=function(n){n instanceof Minerva.channel&&(r=n.get())},this.setAt=function(n,e){r[n]=e},this.get=function(){return r},this.getAt=function(n){return r[n]}},Minerva.image=function(){this.width=0,this.height=0;var r=new Minerva.channel,n=new Minerva.channel,e=new Minerva.channel,t=new Minerva.channel;this.getChannel=function(a){return"r"==a?r:"g"==a?n:"b"==a?e:"a"==a?t:void 0},this.setChannel=function(a,i){"r"==a?r=i:"g"==a?n=i:"b"==a?e=i:"a"==a&&(t=i)},this.setSize=function(r,n){this.width=r,this.height=n},this.getColorAt=function(t){return{r:r.getAt(t),g:n.getAt(t),b:e.getAt(t)}},this.getAlphaAt=function(r){return t.getAt(r)},this.setColorAt=function(t,a){r.setAt(t,Math.min(1,Math.max(0,a.r))),n.setAt(t,Math.min(1,Math.max(0,a.g))),e.setAt(t,Math.min(1,Math.max(0,a.b)))},this.setAlphaAt=function(r,n){t.setAt(r,Math.min(1,Math.max(0,n)))},this.fromUrl=function(r){var n=new Image;n.src=r,this.fromImage(n)},this.fromImage=function(a){this.width=a.width,this.height=a.height;var i=document.createElement("canvas");i.width=this.width,i.height=this.height;var v=i.getContext("2d");v.drawImage(a,0,0);for(var o=v.getImageData(0,0,this.width,this.height),h=0;h<o.data.length/4;h++)r.add(o.data[4*h+0]/255),n.add(o.data[4*h+1]/255),e.add(o.data[4*h+2]/255),t.add(o.data[4*h+3]/255)},this.toCanvas=function(){var a=document.createElement("canvas");a.width=this.width,a.height=this.height;for(var i=a.getContext("2d"),v=i.createImageData(this.width,this.height),o=0;o<v.data.length/4;o++)v.data[4*o+0]=255*r.getAt(o)&255,v.data[4*o+1]=255*n.getAt(o)&255,v.data[4*o+2]=255*e.getAt(o)&255,v.data[4*o+3]=255*t.getAt(o)&255;return i.putImageData(v,0,0),a},this.toFileData=function(){var r=this.toCanvas(),n=r.toDataURL();return n.replace("data:image/png;base64,","")}},Minerva.blend=function(r,n,e,t,a,i){null==t&&(t=1),null==e&&(e="normal"),null==i&&(i="clip"),e=e.toLowerCase(),i=i.toLowerCase();var v=Minerva.blendmodes.normal,o=Minerva.blendmodes.clip,h="b";null!=e&&(hasOwnProperty.call(Minerva.blendmodes,e)?v=Minerva.blendmodes[e]:hasOwnProperty.call(Minerva.mixmodes,e)&&(v=Minerva.mixmodes[e],h="m")),null!=i&&hasOwnProperty.call(Minerva.blendmodes,i)&&(o=Minerva.blendmodes[i]);var c=0,M=0,b=0;if(r instanceof Minerva.image)c=2;else{if("number"!=typeof r)return;c=1}if(n instanceof Minerva.image)M=2,null==a&&(a=n.getChannel("a"),b=1);else{if("number"!=typeof n)return;M=1}if(a instanceof Minerva.channel&&(b=1),1==c&&1==M){var g={},u=Minerva.convert.hex2rgb(r),s=Minerva.convert.hex2rgb(n);return g="b"==h?{r:v(u.r,s.r),g:v(u.g,s.g),b:v(u.b,s.b)}:v(u,s)}if(2==c&&1==M){var l=new Minerva.image;l.setSize(r.width,r.height);for(var m=0;m<r.width*r.height;m++){var g={},u=r.getColorAt(m),s=Minerva.convert.hex2rgb(n);g="b"==h?{r:v(u.r,s.r),g:v(u.g,s.g),b:v(u.b,s.b)}:v(u,s);var d=o(r.getAlphaAt(m),1),f=1;1==b?f=a.getAt(m)*t:0==b&&(f=t),l.setColorAt(m,{r:f*g.r+(1-f)*r.getColorAt(m).r,g:f*g.g+(1-f)*r.getColorAt(m).g,b:f*g.b+(1-f)*r.getColorAt(m).b}),l.setAlphaAt(m,d)}return l}if(1==c&&2==M){var l=new Minerva.image;l.setSize(r.width,r.height);for(var m=0;m<r.width*r.height;m++){var g={},u=Minerva.convert.hex2rgb(r),s=n.getColorAt(m);g="b"==h?{r:v(u.r,s.r),g:v(u.g,s.g),b:v(u.b,s.b)}:v(u,s);var d=o(1,n.getAlphaAt(m)),f=1;1==b?f=a.getAt(m)*t:0==b&&(f=t),l.setColorAt(m,{r:f*g.r+(1-f)*Minerva.convert.hex2rgb(r).r,g:f*g.g+(1-f)*Minerva.convert.hex2rgb(r).g,b:f*g.b+(1-f)*Minerva.convert.hex2rgb(r).b}),l.setAlphaAt(m,d)}return l}if(2==c&&2==c&&r.width==n.width&&r.height==n.height){var l=new Minerva.image;l.setSize(r.width,r.height);for(var m=0;m<r.width*r.height;m++){var g={},u=r.getColorAt(m),s=n.getColorAt(m);g="b"==h?{r:v(u.r,s.r),g:v(u.g,s.g),b:v(u.b,s.b)}:v(u,s);var d=o(r.getAlphaAt(m),n.getAlphaAt(m)),f=1;1==b?f=a.getAt(m)*t:1==b&&(f=t),l.setColorAt(m,{r:f*g.r+(1-f)*r.getColorAt(m).r,g:f*g.g+(1-f)*r.getColorAt(m).g,b:f*g.b+(1-f)*r.getColorAt(m).b}),l.setAlphaAt(m,d)}return l}},Minerva.preloader=new function(){var r=[],n={};this.add=function(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)r.push(n[e]);else r.push(n)},this.getImages=function(){return n},this.onComplete=function(e){for(var t=0,a=function(){t++,t==r.length&&e()},i=0;i<r.length;i++){var v=new Image;v.addEventListener("load",a),v.src=r[i],n[r[i]]=v}}},Minerva.convert.hex2rgb=function(r){var n=r>>16&255,e=r>>8&255,t=255&r;return{r:n/255,g:e/255,b:t/255}},Minerva.convert.rgb2hsl=function(r){var n,e,t,a=r[0]/255,i=r[1]/255,v=r[2]/255,o=Math.min(a,i,v),h=Math.max(a,i,v),c=h-o;return h==o?n=0:a==h?n=(i-v)/c:i==h?n=2+(v-a)/c:v==h&&(n=4+(a-i)/c),n=Math.min(60*n,360),0>n&&(n+=360),t=(o+h)/2,e=h==o?0:.5>=t?c/(h+o):c/(2-h-o),[n,100*e,100*t]},Minerva.convert.rgb2hsv=function(r){var n,e,t,a=r[0],i=r[1],v=r[2],o=Math.min(a,i,v),h=Math.max(a,i,v),c=h-o;return e=0==h?0:c/h*1e3/10,h==o?n=0:a==h?n=(i-v)/c:i==h?n=2+(v-a)/c:v==h&&(n=4+(a-i)/c),n=Math.min(60*n,360),0>n&&(n+=360),t=h/255*1e3/10,[n,e,t]},Minerva.convert.rgb2hwb=function(r){var n=r[0],e=r[1],t=r[2],a=Minerva.convert.rgb2hsl(r)[0],i=1/255*Math.min(n,Math.min(e,t)),t=1-1/255*Math.max(n,Math.max(e,t));return[a,100*i,100*t]},Minerva.convert.rgb2cmyk=function(r){var n,e,t,a,i=r[0]/255,v=r[1]/255,o=r[2]/255;return a=Math.min(1-i,1-v,1-o),n=(1-i-a)/(1-a)||0,e=(1-v-a)/(1-a)||0,t=(1-o-a)/(1-a)||0,[100*n,100*e,100*t,100*a]},Minerva.convert.rgb2xyz=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92;var a=.4124*n+.3576*e+.1805*t,i=.2126*n+.7152*e+.0722*t,v=.0193*n+.1192*e+.9505*t;return[100*a,100*i,100*v]},Minerva.convert.rgb2lab=function(r){var n,e,t,a=Minerva.convert.rgb2xyz(r),i=a[0],v=a[1],o=a[2];return i/=95.047,v/=100,o/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,n=116*v-16,e=500*(i-v),t=200*(v-o),[n,e,t]},Minerva.convert.rgb2lch=function(r){return Minerva.convert.lab2lch(Minerva.convert.rgb2lab(r))},Minerva.convert.hsl2rgb=function(r){var n,e,t,a,i,v=r[0]/360,o=r[1]/100,h=r[2]/100;if(0==o)return i=255*h&255,[i,i,i];e=.5>h?h*(1+o):h+o-h*o,n=2*h-e,a=[0,0,0];for(var c=0;3>c;c++)t=v+1/3*-(c-1),0>t&&t++,t>1&&t--,i=1>6*t?n+6*(e-n)*t:1>2*t?e:2>3*t?n+(e-n)*(2/3-t)*6:n,a[c]=255&Math.round(255*i);return a},Minerva.convert.hsl2hsv=function(r){var n,e,t=r[0],a=r[1]/100,i=r[2]/100;return i*=2,a*=1>=i?i:2-i,e=(i+a)/2,n=2*a/(i+a),[t,100*n,100*e]},Minerva.convert.hsl2hwb=function(r){return Minerva.convert.rgb2hwb(Minerva.convert.hsl2rgb(r))},Minerva.convert.hsl2cmyk=function(r){return Minerva.convert.rgb2cmyk(Minerva.convert.hsl2rgb(r))},Minerva.convert.hsv2rgb=function(r){var n=r[0]/60,e=r[1]/100,t=r[2]/100,a=Math.floor(n)%6,i=n-Math.floor(n),v=255*t*(1-e),o=255*t*(1-e*i),h=255*t*(1-e*(1-i)),t=255*t;switch(a){case 0:return[t,h,v];case 1:return[o,t,v];case 2:return[v,t,h];case 3:return[v,o,t];case 4:return[h,v,t];case 5:return[t,v,o]}},Minerva.convert.hsv2hsl=function(r){var n,e,t=r[0],a=r[1]/100,i=r[2]/100;return e=(2-a)*i,n=a*i,n/=1>=e?e:2-e,n=n||0,e/=2,[t,100*n,100*e]},Minerva.convert.hsv2hwb=function(r){return Minerva.convert.rgb2hwb(Minerva.convert.hsv2rgb(r))},Minerva.convert.hsv2cmyk=function(r){return Minerva.convert.rgb2cmyk(Minerva.convert.hsv2rgb(r))},Minerva.convert.hwb2rgb=function(n){var e,t,a,i,v=n[0]/360,o=n[1]/100,h=n[2]/100,c=o+h;switch(c>1&&(o/=c,h/=c),e=Math.floor(6*v),t=1-h,a=6*v-e,0!=(1&e)&&(a=1-a),i=o+a*(t-o),e){default:case 6:case 0:r=t,g=i,b=o;break;case 1:r=i,g=t,b=o;break;case 2:r=o,g=t,b=i;break;case 3:r=o,g=i,b=t;break;case 4:r=i,g=o,b=t;break;case 5:r=t,g=o,b=i}return[255&Math.round(255*r),255&Math.round(255*g),255&Math.round(255*b)]},Minerva.convert.hwb2hsl=function(r){return Minerva.convert.rgb2hsl(Minerva.convert.hwb2rgb(r))},Minerva.convert.hwb2hsv=function(r){return Minerva.convert.rgb2hsv(Minerva.convert.hwb2rgb(r))},Minerva.convert.hwb2cmyk=function(r){return Minerva.convert.rgb2cmyk(Minerva.convert.hwb2rgb(r))},Minerva.convert.cmyk2rgb=function(r){var n,e,t,a=r[0]/100,i=r[1]/100,v=r[2]/100,o=r[3]/100;return n=1-Math.min(1,a*(1-o)+o),e=1-Math.min(1,i*(1-o)+o),t=1-Math.min(1,v*(1-o)+o),[255&Math.round(255*n),255&Math.round(255*e),255&Math.round(255*t)]},Minerva.convert.cmyk2hsl=function(r){return Minerva.convert.rgb2hsl(Minerva.convert.cmyk2rgb(r))},Minerva.convert.cmyk2hsv=function(r){return Minerva.convert.rgb2hsv(Minerva.convert.cmyk2rgb(r))},Minerva.convert.cmyk2hwb=function(r){return Minerva.convert.rgb2hwb(Minerva.convert.cmyk2rgb(r))},Minerva.convert.xyz2rgb=function(r){var n,e,t,a=r[0]/100,i=r[1]/100,v=r[2]/100;return n=3.2406*a+-1.5372*i+v*-.4986,e=a*-.9689+1.8758*i+.0415*v,t=.0557*a+i*-.204+1.057*v,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,n=Math.min(Math.max(0,n),1),e=Math.min(Math.max(0,e),1),t=Math.min(Math.max(0,t),1),[255&Math.round(255*n),255&Math.round(255*e),255&Math.round(255*t)]},Minerva.convert.xyz2lab=function(r){var n,e,t,a=r[0],i=r[1],v=r[2];return a/=95.047,i/=100,v/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,n=116*i-16,e=500*(a-i),t=200*(i-v),[n,e,t]},Minerva.convert.xyz2lch=function(r){return Minerva.convert.lab2lch(Minerva.convert.xyz2lab(r))},Minerva.convert.lab2xyz=function(r){var n,e,t,a,i=r[0],v=r[1],o=r[2];return 8>=i?(e=100*i/903.3,a=7.787*(e/100)+16/116):(e=100*Math.pow((i+16)/116,3),a=Math.pow(e/100,1/3)),n=.008856>=n/95.047?n=95.047*(v/500+a-16/116)/7.787:95.047*Math.pow(v/500+a,3),t=.008859>=t/108.883?t=108.883*(a-o/200-16/116)/7.787:108.883*Math.pow(a-o/200,3),[n,e,t]},Minerva.convert.lab2lch=function(r){var n,e,t,a=r[0],i=r[1],v=r[2];return n=Math.atan2(v,i),e=360*n/2/Math.PI,0>e&&(e+=360),t=Math.sqrt(i*i+v*v),[a,t,e]},Minerva.convert.lab2rgb=function(r){return Minerva.convert.xyz2rgb(Minerva.convert.lab2xyz(r))},Minerva.convert.lch2lab=function(r){var n,e,t,a=r[0],i=r[1],v=r[2];return t=v/360*2*Math.PI,n=i*Math.cos(t),e=i*Math.sin(t),[a,n,e]},Minerva.convert.lch2xyz=function(r){return Minerva.convert.lab2xyz(Minerva.convert.lch2lab(r))},Minerva.convert.lch2rgb=function(r){return Minerva.convert.lab2rgb(Minerva.convert.lch2lab(r))},Minerva.convert.rgb2hsy=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255,a=0,i=0,v=n*Minerva.settings.lumaR+e*Minerva.settings.lumaG+t*Minerva.settings.lumaB;return n==e&&e==t||(n>=e&&e>=t?(i=n-t,a=1/6*(e-t)/i):e>n&&n>=t?(i=e-t,a=1/6*(e-n)/i+1/6):e>=t&&t>n?(i=e-n,a=1/6*(t-n)/i+2/6):t>e&&e>n?(i=t-n,a=1/6*(t-e)/i+.5):t>n&&n>=e?(i=t-e,a=1/6*(n-e)/i+4/6):(i=n-e,a=1/6*(n-t)/i+5/6)),[a,Math.min(Math.max(i,0),1),Math.min(Math.max(v,0),1)]},Minerva.convert.hsy2rgb=function(r){var n=0,e=0,t=0,a=0,i=r[0],v=r[1],o=r[2];return i>=0&&1/6>i?(a=v*i/(1/6),t=o-Minerva.settings.lumaR*v-Minerva.settings.lumaG*a,n=t+v,e=t+a):i>=1/6&&2/6>i?(a=v*(i-1/6)/(1/6),e=o+Minerva.settings.lumaB*v+Minerva.settings.lumaR*a,t=e-v,n=e-a):i>=2/6&&.5>i?(a=v*(i-2/6)/(1/6),n=o-Minerva.settings.lumaG*v-Minerva.settings.lumaB*a,e=n+v,t=n+a):i>=.5&&4/6>i?(a=v*(i-.5)/(1/6),t=o+Minerva.settings.lumaR*v+Minerva.settings.lumaG*a,n=t-v,e=t-a):i>=4/6&&5/6>i?(a=v*(i-4/6)/(1/6),e=o-Minerva.settings.lumaB*v-Minerva.settings.lumaR*a,t=e+v,n=e+a):(a=v*(i-5/6)/(1/6),n=o+Minerva.settings.lumaG*v+Minerva.settings.lumaB*a,e=n-v,t=n-a),n=Math.max(0,Math.min(1,n)),e=Math.max(0,Math.min(1,e)),t=Math.max(0,Math.min(1,t)),[255&Math.round(255*n),255&Math.round(255*e),255&Math.round(255*t)]},Minerva.blendmodes.normal=function(r,n){return n},Minerva.blendmodes.ignore=function(r){return r},Minerva.blendmodes.clip=function(r){return r},Minerva.blendmodes.replace=function(r,n){return n},Minerva.blendmodes.discard=function(){return 1},Minerva.blendmodes.average=function(r,n){return(r+n)/2},Minerva.blendmodes.stamp=function(r,n){return r+2*n-1},Minerva.blendmodes.punch=function(r,n){return n+2*r-1},Minerva.blendmodes.darken=function(r,n){return Math.min(r,n)},Minerva.blendmodes.multiply=function(r,n){return r*n},Minerva.blendmodes.colorburn=function(r,n){return 0==n?0:1-(1-r)/n},Minerva.blendmodes.linearburn=function(r,n){return r+n-1},Minerva.blendmodes.softburn=function(r,n){return 1>n+r?1==r?1:n/2/(1-r):0==n?0:1-(1-r)/2/n},Minerva.blendmodes.lighten=function(r,n){return Math.max(r,n)},Minerva.blendmodes.screen=function(r,n){return 1-(1-r)*(1-n)},Minerva.blendmodes.lineardodge=function(r,n){return Math.min(1,r+n)},Minerva.blendmodes.colordodge=function(r,n){return 1==n?1:r/(1-n)},Minerva.blendmodes.softdodge=function(r,n){return 1>=r+n?1==n?1:r/2/(1-n):1-(1-n)/2/r},Minerva.blendmodes.difference=function(r,n){return Math.abs(r-n)},Minerva.blendmodes.negation=function(r,n){return 1-Math.abs(1-r-n)},Minerva.blendmodes.exclusion=function(r,n){return r+n-2*r*n},Minerva.blendmodes.divide=function(r,n){return 0==n?0:r/n},Minerva.blendmodes.subtract=function(r,n){return Math.max(0,Math.min(1,r-n))},Minerva.blendmodes.phoenix=function(r,n){return Math.min(r,n)-Math.max(r,n)+1},Minerva.blendmodes.inversesubtract=function(r,n){return n-(1-r)},Minerva.blendmodes.arctangent=function(r,n){return 0==r?0==n?0:1:2*Math.atan(n/r)/Math.PI},Minerva.blendmodes.parallel=function(r,n){return 2/((0==n?1:1/n)+(0==r?1:1/r))},Minerva.blendmodes.equivalence=function(r,n){return 1-Math.abs(n-r)},Minerva.blendmodes.grainmerge=function(r,n){return r+n-.5},Minerva.blendmodes.grainextract=function(r,n){return r-n+.5},Minerva.blendmodes.addsubtract=function(r,n){return Math.abs(Math.sqrt(r)-Math.sqrt(n))},Minerva.blendmodes.gammadark=function(r,n){return 0==n?0:Math.pow(r,1/n)},Minerva.blendmodes.gammalight=function(r,n){return 0==r?0:Math.pow(n,1/r)},Minerva.blendmodes.geometricmean=function(r,n){return Math.sqrt(r*n)},Minerva.blendmodes.softlightsvg=function(r,n){return n>.5?r+(2*n-1)*((r>.25?Math.sqrt(r):((16*r-12)*r+4)*r)-r):r-(1-2*n)*r*(1-r)},Minerva.blendmodes.overlay=function(r,n){return r>.5?1-2*(1-n)*(1-r):2*n*r},Minerva.blendmodes.softlight=function(r,n){return.5>n?(1-2*n)*r*r+2*n*r:(1-(2*n-1))*r+(2*n-1)*Math.sqrt(r)},Minerva.blendmodes.peglight=function(r,n){return(1-r)*r*n+r*(1-(1-r)*(1-n))},Minerva.blendmodes.hardlight=function(r,n){return n>.5?1-2*(1-r)*(1-n):2*r*n},Minerva.blendmodes.linearlight=function(r,n){return n>.5?r+2*(n-.5):r+2*n-1},Minerva.blendmodes.vividlight=function(r,n){return.5>n?2*n==0?0:1-(1-r)/(2*n):2*(n-.5)==1?1:r/(1-2*(n-.5))},Minerva.blendmodes.pinlight=function(r,n){return n>.5?Math.max(r,2*(n-.5)):Math.min(r,2*n)},Minerva.blendmodes.reflect=function(r,n){return 1==n?1:r*r/(1-n)>1?1:r*r/(1-n)},Minerva.blendmodes.glow=function(r,n){return 1==r?1:n*n/(1-r)>1?1:n*n/(1-r)},Minerva.blendmodes.freeze=function(r,n){return 0==n?0:1-(1-r)*(1-r)/n},Minerva.blendmodes.heat=function(r,n){return 0==r?0:1-(1-n)*(1-n)/r},Minerva.blendmodes.interpolation=function(r,n){return.5-.25*Math.cos(Math.PI*r)-.25*Math.cos(Math.PI*n)},Minerva.blendmodes.hardmix=function(r,n){return 1-n>r?0:1},Minerva.blendmodes.binaryand=function(r,n){return(255&Math.round(255*r)&(255&Math.round(255*n)))/255},Minerva.blendmodes.binaryor=function(r,n){return(255&Math.round(255*r)|255&Math.round(255*n))/255},Minerva.blendmodes.binaryxor=function(r,n){return(255&Math.round(255*r)^255&Math.round(255*n))/255},Minerva.blendmodes.binarynand=function(r,n){return(255&Math.round(255*r)&~(255&Math.round(255*n)))/255},Minerva.mixmodes.hslhue=function(r,n){var e=Minerva.convert.rgb2hsl([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsl([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsl2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hslsaturation=function(r,n){var e=Minerva.convert.rgb2hsl([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsl([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsl2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsllightness=function(r,n){var e=Minerva.convert.rgb2hsl([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsl([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsl2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsvhue=function(r,n){var e=Minerva.convert.rgb2hsv([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsv([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsv2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsvsaturation=function(r,n){var e=Minerva.convert.rgb2hsv([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsv([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsv2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsvvalue=function(r,n){var e=Minerva.convert.rgb2hsv([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsv([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsv2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hwbhue=function(r,n){var e=Minerva.convert.rgb2hwb([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hwb([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hwb2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hwbwhiteness=function(r,n){var e=Minerva.convert.rgb2hwb([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hwb([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hwb2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hwbblackness=function(r,n){var e=Minerva.convert.rgb2hwb([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hwb([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hwb2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.lablightness=function(r,n){var e=Minerva.convert.rgb2lab([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lab([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lab2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.labalpha=function(r,n){var e=Minerva.convert.rgb2lab([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lab([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lab2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.labbeta=function(r,n){var e=Minerva.convert.rgb2lab([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lab([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lab2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.lchlightness=function(r,n){var e=Minerva.convert.rgb2lch([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lch([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lch2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.lchchroma=function(r,n){var e=Minerva.convert.rgb2lch([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lch([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lch2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.lchhue=function(r,n){var e=Minerva.convert.rgb2lch([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2lch([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.lch2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsyhue=function(r,n){var e=Minerva.convert.rgb2hsy([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsy([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsy2rgb([t[0],e[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsysaturation=function(r,n){var e=Minerva.convert.rgb2hsy([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsy([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsy2rgb([e[0],t[1],e[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.hsyluma=function(r,n){var e=Minerva.convert.rgb2hsy([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2hsy([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.hsy2rgb([e[0],e[1],t[2]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.cmykcyan=function(r,n){var e=Minerva.convert.rgb2cmyk([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2cmyk([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.cmyk2rgb([t[0],e[1],e[2],e[3]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.cmykmagenta=function(r,n){var e=Minerva.convert.rgb2cmyk([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2cmyk([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.cmyk2rgb([e[0],t[1],e[2],e[3]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.cmykyellow=function(r,n){var e=Minerva.convert.rgb2cmyk([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2cmyk([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.cmyk2rgb([e[0],e[1],t[2],e[3]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}},Minerva.mixmodes.cmykkey=function(r,n){var e=Minerva.convert.rgb2cmyk([255*r.r&255,255*r.g&255,255*r.b&255]),t=Minerva.convert.rgb2cmyk([255*n.r&255,255*n.g&255,255*n.b&255]),a=Minerva.convert.cmyk2rgb([e[0],e[1],e[2],t[3]]);return{r:a[0]/255,g:a[1]/255,b:a[2]/255}};
